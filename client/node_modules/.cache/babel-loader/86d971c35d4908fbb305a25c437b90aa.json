{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Vadim\\\\Desktop\\\\Learn\\\\KIPO\\\\diplom\\\\imagehost\\\\client\\\\src\\\\pages\\\\AuthPage\\\\ResetPassword.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { Routes, Route, Navigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Box, Typography, TextField, Button, Grid, Link, IconButton, InputAdornment, FormControl, styled } from \"@mui/material\";\nimport { Visibility, VisibilityOff } from \"@mui/icons-material\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { Snackbar } from \"@mui/material\";\nimport Alert from \"@mui/material/Alert\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthBox = styled(Box)(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    position: \"absolute\",\n    left: \"50%\",\n    top: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    background: \"rgba(66,66,66,0.25)\",\n    color: \"rgb(255 255 255 / 100%)\",\n    padding: '16px',\n    borderRadius: '8px',\n    [theme.breakpoints.up(\"xs\")]: {\n      width: \"330px\",\n      marginTop: '15px'\n    },\n    [theme.breakpoints.up(\"sm\")]: {\n      width: \"500px\"\n    }\n  };\n});\n_c = AuthBox;\n\nconst ResetPassword = () => {\n  _s();\n\n  const handleRandom = () => {\n    return Math.floor(Math.random() * (10000 - 1000 + 1) + 1000);\n  };\n\n  const [form, setForm] = useState({\n    email: \"\",\n    message: `${handleRandom()}`,\n    code: \"\",\n    password: \"\",\n    returnPassword: \"\",\n    showPassword: false\n  });\n  const {\n    login\n  } = useContext(AuthContext);\n\n  const changeHandler = event => {\n    setForm({ ...form,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleClickShowPassword = () => {\n    setForm({ ...form,\n      showPassword: !form.showPassword\n    });\n  };\n\n  const handleMouseDownPassword = event => {\n    event.preventDefault();\n  };\n\n  const resetPass = async () => {\n    try {\n      await axios.post(\"/api/auth/reset_pass\", { ...form\n      }, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  let visual = false;\n  const [profile, setProfile] = useState();\n  useEffect(() => {\n    fetch(`/api/auth/get_user`).then(res => res.json()).then(result => {\n      setTimeout(() => {\n        setProfile(result);\n      }, 2000);\n    }, error => {\n      console.log(error);\n    });\n  }, []);\n  const defaults = {\n    from: \"imghost_app@outlook.com\"\n  };\n\n  const sendCode = () => {\n    if (profile.find(item => item.login === form.email)) {\n      resetPass();\n      handleClickCodeSuccess();\n    } else {\n      handleClick();\n    }\n  };\n\n  const check = () => {\n    if (form.code === form.message) {\n      if (form.password === form.returnPassword) {\n        if (form.password.length > 6) {\n          resetHandler();\n        } else {\n          handleClickPassword();\n        }\n      } else {\n        handleClickPasswordSuccess();\n      }\n    } else {\n      handleClickCode();\n    }\n  };\n\n  const resetHandler = async () => {\n    try {\n      await axios.put(\"/api/auth/resetPass\", { ...form\n      }, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(res => {\n        setTimeout(() => {\n          window.location.href = \"/auth\";\n        }, 2000);\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const [open, setOpen] = React.useState(false);\n  const [openCode, setOpenCode] = React.useState(false);\n  const [openCodeSuccess, setOpenCodeSuccess] = React.useState(false);\n  const [openPassword, setOpenPassword] = React.useState(false);\n  const [openPasswordSuccess, setOpenPasswordSuccess] = React.useState(false); // Отслеживания для алертов\n\n  const handleClick = message => {\n    setOpen(true);\n  };\n\n  const handleClickCode = message => {\n    setOpenCode(true);\n  };\n\n  const handleClickCodeSuccess = message => {\n    setOpenCodeSuccess(true);\n  };\n\n  const handleClickPassword = message => {\n    setOpenPassword(true);\n  };\n\n  const handleClickPasswordSuccess = message => {\n    setOpenPasswordSuccess(true);\n  }; //Закрытие алертов\n\n\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  const handleCloseCode = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setOpenCode(false);\n  };\n\n  const handleCloseCodeSuccess = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setOpenCodeSuccess(false);\n  };\n\n  const handleClosePassword = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setOpenPassword(false);\n  };\n\n  const handleClosePasswordSuccess = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setOpenPasswordSuccess(false);\n  };\n\n  const action = /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(IconButton, {\n      size: \"small\",\n      \"aria-label\": \"close\",\n      color: \"inherit\",\n      onClick: handleClose,\n      children: /*#__PURE__*/_jsxDEV(CloseIcon, {\n        fontSize: \"small\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 226,\n    columnNumber: 5\n  }, this);\n\n  const actionSucces = /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(IconButton, {\n      size: \"small\",\n      \"aria-label\": \"close\",\n      color: \"inherit\",\n      onClick: handleClose,\n      children: /*#__PURE__*/_jsxDEV(CloseIcon, {\n        fontSize: \"small\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 239,\n    columnNumber: 5\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n      open: open,\n      autoHideDuration: 6000,\n      onClose: handleClose,\n      message: \"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0432\\u0445\\u043E\\u0434\\u0430\",\n      action: action,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleClose,\n        severity: \"error\",\n        sx: {\n          width: \"100%\"\n        },\n        children: \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: openCode,\n      autoHideDuration: 6000,\n      onClose: handleCloseCode,\n      message: \"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0432\\u0445\\u043E\\u0434\\u0430\",\n      action: action,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleCloseCode,\n        severity: \"error\",\n        sx: {\n          width: \"100%\"\n        },\n        children: \"\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 \\u043A\\u043E\\u0434!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: openCodeSuccess,\n      autoHideDuration: 6000,\n      onClose: handleCloseCodeSuccess,\n      message: \"\\u041A\\u043E\\u0434 \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D, \\u043F\\u0440\\u043E\\u0432\\u0435\\u0440\\u044C\\u0442\\u0435 \\u043F\\u043E\\u0447\\u0442\\u0443.\",\n      action: action,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleCloseCodeSuccess,\n        severity: \"success\",\n        sx: {\n          width: \"100%\"\n        },\n        children: \"\\u041A\\u043E\\u0434 \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D, \\u043F\\u0440\\u043E\\u0432\\u0435\\u0440\\u044C\\u0442\\u0435 \\u043F\\u043E\\u0447\\u0442\\u0443.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: openPassword,\n      autoHideDuration: 6000,\n      onClose: handleClosePassword,\n      message: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C \\u0434\\u043E\\u043B\\u0436\\u0435\\u043D \\u0431\\u044B\\u0442\\u044C \\u0431\\u043E\\u043B\\u044C\\u0448\\u0435 6 \\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u043E\\u0432.\",\n      action: action,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleClosePassword,\n        severity: \"error\",\n        sx: {\n          width: \"100%\"\n        },\n        children: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C \\u0434\\u043E\\u043B\\u0436\\u0435\\u043D \\u0431\\u044B\\u0442\\u044C \\u0431\\u043E\\u043B\\u044C\\u0448\\u0435 6 \\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u043E\\u0432.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: openPasswordSuccess,\n      autoHideDuration: 6000,\n      onClose: handleClosePasswordSuccess,\n      message: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u0438 \\u043D\\u0435 \\u0441\\u043E\\u0432\\u043F\\u0430\\u0434\\u0430\\u044E\\u0442.\",\n      action: action,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleClosePasswordSuccess,\n        severity: \"error\",\n        sx: {\n          width: \"100%\"\n        },\n        children: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u0438 \\u043D\\u0435 \\u0441\\u043E\\u0432\\u043F\\u0430\\u0434\\u0430\\u044E\\u0442.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }, this), \"visual ? null :\", /*#__PURE__*/_jsxDEV(AuthBox, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        component: \"h1\",\n        variant: \"h5\",\n        sx: {\n          fontWeight: \"bold\",\n          textAlign: \"center\"\n        },\n        children: \"\\u0412\\u043E\\u0441\\u0441\\u0442\\u0430\\u043D\\u043E\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => e.preventDefault(),\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          sx: {\n            width: \"100%\",\n            \".MuiTextField-root\": {\n              background: \"rgb(130 130 130 / 20%)\",\n              borderRadius: \"5px\"\n            },\n            \".MuiOutlinedInput-notchedOutline\": {\n              borderColor: \"rgba(0, 0, 0, 0)\",\n              border: \"none\"\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 8,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                sx: {\n                  color: \"black\",\n                  width: \"100%\",\n                  \".MuiInputLabel-root\": {\n                    color: \"white\"\n                  },\n                  \".Mui-focused\": {\n                    color: \"#bdbdbde0\"\n                  },\n                  \".MuiOutlinedInput-root\": {\n                    color: \"rgb(255 255 255)\"\n                  }\n                },\n                margin: \"normal\",\n                label: \"E-mail\",\n                type: \"email\",\n                name: \"email\",\n                className: \"validate\",\n                onChange: changeHandler\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 4,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                sx: {\n                  background: \"linear-gradient(10deg, #FE6B8B 50%, #FF8E53 90%)\",\n                  width: \"auto\",\n                  minWidth: \"50px\",\n                  minHeight: \"55px\",\n                  ml: '10px',\n                  mt: 2,\n                  color: \"white\"\n                },\n                onClick: sendCode,\n                children: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C \\u043A\\u043E\\u0434\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            sx: {\n              color: \"black\",\n              width: \"100%\",\n              \".MuiInputLabel-root\": {\n                color: \"white\"\n              },\n              \".Mui-focused\": {\n                color: \"#bdbdbde0\"\n              },\n              \".MuiOutlinedInput-root\": {\n                color: \"rgb(255 255 255)\"\n              }\n            },\n            margin: \"normal\",\n            label: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u043D\\u044B\\u0439 \\u043A\\u043E\\u0434\",\n            type: \"code\",\n            name: \"code\",\n            className: \"validate\",\n            onChange: changeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            sx: {\n              width: \"100%\",\n              mb: 1,\n              mt: 2,\n              color: \"black\",\n              visible: true,\n              \".MuiInputLabel-root\": {\n                color: \"white\"\n              },\n              \".Mui-focused\": {\n                color: \"#bdbdbde0\"\n              },\n              \".MuiOutlinedInput-root\": {\n                color: \"rgb(255 255 255)\"\n              }\n            },\n            variant: \"outlined\",\n            margin: \"normal\",\n            label: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n            type: form.showPassword ? \"text\" : \"password\",\n            value: form.password,\n            name: \"password\",\n            className: \"validate\",\n            onChange: changeHandler,\n            InputProps: {\n              endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"end\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  \"aria-label\": \"toggle password visibility\",\n                  onClick: handleClickShowPassword,\n                  onMouseDown: handleMouseDownPassword,\n                  edge: \"end\",\n                  sx: {\n                    color: \"rgb(255 255 255)\"\n                  },\n                  children: form.showPassword ? /*#__PURE__*/_jsxDEV(VisibilityOff, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 449,\n                    columnNumber: 44\n                  }, this) : /*#__PURE__*/_jsxDEV(Visibility, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 449,\n                    columnNumber: 64\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 19\n              }, this)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            sx: {\n              width: \"100%\",\n              mb: 2,\n              mt: 2,\n              color: \"black\",\n              visible: true,\n              \".MuiInputLabel-root\": {\n                color: \"white\"\n              },\n              \".Mui-focused\": {\n                color: \"#bdbdbde0\"\n              },\n              \".MuiOutlinedInput-root\": {\n                color: \"rgb(255 255 255)\"\n              }\n            },\n            variant: \"outlined\",\n            margin: \"normal\",\n            label: \"\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n            type: form.showPassword ? \"text\" : \"password\",\n            value: form.returnPassword,\n            name: \"returnPassword\",\n            className: \"validate\",\n            onChange: changeHandler,\n            InputProps: {\n              endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"end\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  \"aria-label\": \"toggle password visibility\",\n                  onClick: handleClickShowPassword,\n                  onMouseDown: handleMouseDownPassword,\n                  edge: \"end\",\n                  sx: {\n                    color: \"rgb(255 255 255)\"\n                  },\n                  children: form.showPassword ? /*#__PURE__*/_jsxDEV(VisibilityOff, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 492,\n                    columnNumber: 44\n                  }, this) : /*#__PURE__*/_jsxDEV(Visibility, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 492,\n                    columnNumber: 64\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 483,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 19\n              }, this)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            sx: {\n              mb: \"16px\",\n              background: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\",\n              border: 0,\n              borderRadius: \"5px\",\n              boxShadow: \"0 3px 5px 2px rgba(255, 105, 135, .3)\",\n              color: \"white\",\n              height: 48,\n              padding: \"0 30px\",\n              width: \"100%\"\n            },\n            onClick: check,\n            children: \"\\u0421\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            sx: {\n              px: \"5px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: true,\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                href: \"/auth\",\n                sx: {\n                  textDecoration: \"none\"\n                },\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  sx: {\n                    color: \"white\"\n                  },\n                  children: \"\\u0412\\u0441\\u043F\\u043E\\u043C\\u043D\\u0438\\u043B\\u0438 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 519,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                href: \"/register\",\n                sx: {\n                  textDecoration: \"none\"\n                },\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  sx: {\n                    color: \"white\"\n                  },\n                  children: \"\\u041D\\u0435\\u0442 \\u0443\\u0447\\u0435\\u0442\\u043D\\u043E\\u0439 \\u0437\\u0430\\u043F\\u0438\\u0441\\u0438?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 526,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 524,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 252,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ResetPassword, \"hcvbqxgqEjxN3KA3DaDx2Vh9zyU=\");\n\n_c2 = ResetPassword;\nexport default ResetPassword;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AuthBox\");\n$RefreshReg$(_c2, \"ResetPassword\");","map":{"version":3,"names":["React","useState","useContext","useEffect","Routes","Route","Navigate","axios","Box","Typography","TextField","Button","Grid","Link","IconButton","InputAdornment","FormControl","styled","Visibility","VisibilityOff","AuthContext","Snackbar","Alert","CloseIcon","AuthBox","theme","position","left","top","transform","background","color","padding","borderRadius","breakpoints","up","width","marginTop","ResetPassword","handleRandom","Math","floor","random","form","setForm","email","message","code","password","returnPassword","showPassword","login","changeHandler","event","target","name","value","handleClickShowPassword","handleMouseDownPassword","preventDefault","resetPass","post","headers","error","console","log","visual","profile","setProfile","fetch","then","res","json","result","setTimeout","defaults","from","sendCode","find","item","handleClickCodeSuccess","handleClick","check","length","resetHandler","handleClickPassword","handleClickPasswordSuccess","handleClickCode","put","window","location","href","open","setOpen","openCode","setOpenCode","openCodeSuccess","setOpenCodeSuccess","openPassword","setOpenPassword","openPasswordSuccess","setOpenPasswordSuccess","handleClose","reason","handleCloseCode","handleCloseCodeSuccess","handleClosePassword","handleClosePasswordSuccess","action","actionSucces","fontWeight","textAlign","e","borderColor","border","minWidth","minHeight","ml","mt","mb","visible","endAdornment","boxShadow","height","px","textDecoration"],"sources":["C:/Users/Vadim/Desktop/Learn/KIPO/diplom/imagehost/client/src/pages/AuthPage/ResetPassword.jsx"],"sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport { Routes, Route, Navigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport {\n  Box,\n  Typography,\n  TextField,\n  Button,\n  Grid,\n  Link,\n  IconButton,\n  InputAdornment,\n  FormControl,\n  styled\n} from \"@mui/material\";\nimport { Visibility, VisibilityOff } from \"@mui/icons-material\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { Snackbar } from \"@mui/material\";\nimport Alert from \"@mui/material/Alert\";\nimport CloseIcon from \"@mui/icons-material/Close\";\n\nconst AuthBox = styled(Box)(({ theme }) => ({\n  position: \"absolute\",\n          left: \"50%\",\n          top: \"50%\",\n          transform: \"translate(-50%, -50%)\",\n          background: \"rgba(66,66,66,0.25)\",\n          color: \"rgb(255 255 255 / 100%)\",\n          padding: '16px',\n          borderRadius: '8px',\n    [theme.breakpoints.up(\"xs\")]: {\n      width: \"330px\",\n      marginTop: '15px'\n    },\n    [theme.breakpoints.up(\"sm\")]: {\n      width: \"500px\",\n    },\n  }\n));\n\nconst ResetPassword = () => {\n  const handleRandom = () => {\n    return Math.floor(Math.random() * (10000 - 1000 + 1) + 1000);\n  };\n\n  const [form, setForm] = useState({\n    email: \"\",\n    message: `${handleRandom()}`,\n    code: \"\",\n    password: \"\",\n    returnPassword: \"\",\n    showPassword: false,\n  });\n\n  const { login } = useContext(AuthContext);\n\n  const changeHandler = (event) => {\n    setForm({ ...form, [event.target.name]: event.target.value });\n  };\n\n  const handleClickShowPassword = () => {\n    setForm({\n      ...form,\n      showPassword: !form.showPassword,\n    });\n  };\n\n  const handleMouseDownPassword = (event) => {\n    event.preventDefault();\n  };\n\n  const resetPass = async () => {\n    try {\n      await axios.post(\n        \"/api/auth/reset_pass\",\n        { ...form },\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  let visual = false;\n\n  const [profile, setProfile] = useState();\n\n  useEffect(() => {\n    fetch(`/api/auth/get_user`)\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          setTimeout(() => {\n            setProfile(result);\n          }, 2000);\n        },\n        (error) => {\n          console.log(error);\n        }\n      );\n  }, []);\n\n  const defaults = {\n    from: \"imghost_app@outlook.com\",\n  };\n\n  const sendCode = () => {\n    if (profile.find((item) => item.login === form.email)) {\n      resetPass();\n      handleClickCodeSuccess();\n    } else {\n      handleClick();\n    }\n  };\n\n  const check = () => {\n    if (form.code === form.message) {\n      if (form.password === form.returnPassword) {\n        if (form.password.length > 6) {\n          resetHandler();\n        } else {\n          handleClickPassword();\n        }\n      } else {\n        handleClickPasswordSuccess();\n      }\n    } else {\n      handleClickCode();\n    }\n  };\n\n  const resetHandler = async () => {\n    try {\n      await axios\n        .put(\n          \"/api/auth/resetPass\",\n          { ...form },\n          {\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n          }\n        )\n        .then((res) => {\n          setTimeout(() => {\n            window.location.href = \"/auth\";\n          }, 2000);\n        });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const [open, setOpen] = React.useState(false);\n  const [openCode, setOpenCode] = React.useState(false);\n  const [openCodeSuccess, setOpenCodeSuccess] = React.useState(false);\n  const [openPassword, setOpenPassword] = React.useState(false);\n  const [openPasswordSuccess, setOpenPasswordSuccess] = React.useState(false);\n\n  // Отслеживания для алертов\n  const handleClick = (message) => {\n    setOpen(true);\n  };\n\n  const handleClickCode = (message) => {\n    setOpenCode(true);\n  };\n\n  const handleClickCodeSuccess = (message) => {\n    setOpenCodeSuccess(true);\n  };\n\n  const handleClickPassword = (message) => {\n    setOpenPassword(true);\n  };\n\n  const handleClickPasswordSuccess = (message) => {\n    setOpenPasswordSuccess(true);\n  };\n\n  //Закрытие алертов\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  const handleCloseCode = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setOpenCode(false);\n  };\n\n  const handleCloseCodeSuccess = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setOpenCodeSuccess(false);\n  };\n\n  const handleClosePassword = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setOpenPassword(false);\n  };\n\n  const handleClosePasswordSuccess = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setOpenPasswordSuccess(false);\n  };\n\n  const action = (\n    <React.Fragment>\n      <IconButton\n        size=\"small\"\n        aria-label=\"close\"\n        color=\"inherit\"\n        onClick={handleClose}\n      >\n        <CloseIcon fontSize=\"small\" />\n      </IconButton>\n    </React.Fragment>\n  );\n\n  const actionSucces = (\n    <React.Fragment>\n      <IconButton\n        size=\"small\"\n        aria-label=\"close\"\n        color=\"inherit\"\n        onClick={handleClose}\n      >\n        <CloseIcon fontSize=\"small\" />\n      </IconButton>\n    </React.Fragment>\n  );\n\n  return (\n    <Box className=\"container\">\n      <Snackbar\n        open={open}\n        autoHideDuration={6000}\n        onClose={handleClose}\n        message=\"Ошибка входа\"\n        action={action}\n      >\n        <Alert onClose={handleClose} severity=\"error\" sx={{ width: \"100%\" }}>\n          Пользователь не найден!\n        </Alert>\n      </Snackbar>\n      <Snackbar\n        open={openCode}\n        autoHideDuration={6000}\n        onClose={handleCloseCode}\n        message=\"Ошибка входа\"\n        action={action}\n      >\n        <Alert\n          onClose={handleCloseCode}\n          severity=\"error\"\n          sx={{ width: \"100%\" }}\n        >\n          Неверный код!\n        </Alert>\n      </Snackbar>\n      <Snackbar\n        open={openCodeSuccess}\n        autoHideDuration={6000}\n        onClose={handleCloseCodeSuccess}\n        message=\"Код отправлен, проверьте почту.\"\n        action={action}\n      >\n        <Alert\n          onClose={handleCloseCodeSuccess}\n          severity=\"success\"\n          sx={{ width: \"100%\" }}\n        >\n          Код отправлен, проверьте почту.\n        </Alert>\n      </Snackbar>\n      <Snackbar\n        open={openPassword}\n        autoHideDuration={6000}\n        onClose={handleClosePassword}\n        message=\"Пароль должен быть больше 6 символов.\"\n        action={action}\n      >\n        <Alert\n          onClose={handleClosePassword}\n          severity=\"error\"\n          sx={{ width: \"100%\" }}\n        >\n          Пароль должен быть больше 6 символов.\n        </Alert>\n      </Snackbar>\n      <Snackbar\n        open={openPasswordSuccess}\n        autoHideDuration={6000}\n        onClose={handleClosePasswordSuccess}\n        message=\"Пароли не совпадают.\"\n        action={action}\n      >\n        <Alert\n          onClose={handleClosePasswordSuccess}\n          severity=\"error\"\n          sx={{ width: \"100%\" }}\n        >\n          Пароли не совпадают.\n        </Alert>\n      </Snackbar>\n      visual ? null :\n      <AuthBox\n      >\n        <Typography\n          component=\"h1\"\n          variant=\"h5\"\n          sx={{ fontWeight: \"bold\", textAlign: \"center\" }}\n        >\n          Восстановление пароля\n        </Typography>\n        <form onSubmit={(e) => e.preventDefault()}>\n          <FormControl\n            sx={{\n              width: \"100%\",\n              \".MuiTextField-root\": {\n                background: \"rgb(130 130 130 / 20%)\",\n                borderRadius: \"5px\",\n              },\n              \".MuiOutlinedInput-notchedOutline\": {\n                borderColor: \"rgba(0, 0, 0, 0)\",\n                border: \"none\",\n              },\n            }}\n          >\n            <Grid container>\n              <Grid item xs={8}>\n                <TextField\n                  sx={{\n                    color: \"black\",\n                    width: \"100%\",\n                    \".MuiInputLabel-root\": {\n                      color: \"white\",\n                    },\n                    \".Mui-focused\": {\n                      color: \"#bdbdbde0\",\n                    },\n                    \".MuiOutlinedInput-root\": {\n                      color: \"rgb(255 255 255)\",\n                    },\n                  }}\n                  margin=\"normal\"\n                  label=\"E-mail\"\n                  type=\"email\"\n                  name=\"email\"\n                  className=\"validate\"\n                  onChange={changeHandler}\n                />\n              </Grid>\n              <Grid item xs={4} >\n                <Button\n                  sx={{\n                    background:\n                      \"linear-gradient(10deg, #FE6B8B 50%, #FF8E53 90%)\",\n                    width: \"auto\",\n                    minWidth: \"50px\",\n                    minHeight: \"55px\",\n                    ml: '10px',\n                    mt: 2,\n                    color: \"white\",\n                  }}\n                  onClick={sendCode}\n                >\n                  Отправить код\n                </Button>\n              </Grid>\n            </Grid>\n\n            <TextField\n              sx={{\n                color: \"black\",\n                width: \"100%\",\n                \".MuiInputLabel-root\": {\n                  color: \"white\",\n                },\n                \".Mui-focused\": {\n                  color: \"#bdbdbde0\",\n                },\n                \".MuiOutlinedInput-root\": {\n                  color: \"rgb(255 255 255)\",\n                },\n              }}\n              margin=\"normal\"\n              label=\"Введите полученный код\"\n              type=\"code\"\n              name=\"code\"\n              className=\"validate\"\n              onChange={changeHandler}\n            />\n            <TextField\n              sx={{\n                width: \"100%\",\n                mb: 1,\n                mt: 2,\n                color: \"black\",\n                visible: true,\n                \".MuiInputLabel-root\": {\n                  color: \"white\",\n                },\n                \".Mui-focused\": {\n                  color: \"#bdbdbde0\",\n                },\n                \".MuiOutlinedInput-root\": {\n                  color: \"rgb(255 255 255)\",\n                },\n              }}\n              variant=\"outlined\"\n              margin=\"normal\"\n              label=\"Пароль\"\n              type={form.showPassword ? \"text\" : \"password\"}\n              value={form.password}\n              name=\"password\"\n              className=\"validate\"\n              onChange={changeHandler}\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <IconButton\n                      aria-label=\"toggle password visibility\"\n                      onClick={handleClickShowPassword}\n                      onMouseDown={handleMouseDownPassword}\n                      edge=\"end\"\n                      sx={{\n                        color: \"rgb(255 255 255)\",\n                      }}\n                    >\n                      {form.showPassword ? <VisibilityOff /> : <Visibility />}\n                    </IconButton>\n                  </InputAdornment>\n                ),\n              }}\n            />\n            <TextField\n              sx={{\n                width: \"100%\",\n                mb: 2,\n                mt: 2,\n                color: \"black\",\n                visible: true,\n                \".MuiInputLabel-root\": {\n                  color: \"white\",\n                },\n                \".Mui-focused\": {\n                  color: \"#bdbdbde0\",\n                },\n                \".MuiOutlinedInput-root\": {\n                  color: \"rgb(255 255 255)\",\n                },\n              }}\n              variant=\"outlined\"\n              margin=\"normal\"\n              label=\"Повторите пароль\"\n              type={form.showPassword ? \"text\" : \"password\"}\n              value={form.returnPassword}\n              name=\"returnPassword\"\n              className=\"validate\"\n              onChange={changeHandler}\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <IconButton\n                      aria-label=\"toggle password visibility\"\n                      onClick={handleClickShowPassword}\n                      onMouseDown={handleMouseDownPassword}\n                      edge=\"end\"\n                      sx={{\n                        color: \"rgb(255 255 255)\",\n                      }}\n                    >\n                      {form.showPassword ? <VisibilityOff /> : <Visibility />}\n                    </IconButton>\n                  </InputAdornment>\n                ),\n              }}\n            />\n\n            <Button\n              variant=\"contained\"\n              sx={{\n                mb: \"16px\",\n                background: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\",\n                border: 0,\n                borderRadius: \"5px\",\n                boxShadow: \"0 3px 5px 2px rgba(255, 105, 135, .3)\",\n                color: \"white\",\n                height: 48,\n                padding: \"0 30px\",\n                width: \"100%\",\n              }}\n              onClick={check}\n            >\n              Сменить пароль\n            </Button>\n            <Grid container sx={{ px: \"5px\" }}>\n              <Grid item xs>\n                <Link href=\"/auth\" sx={{ textDecoration: \"none\" }}>\n                  <Typography variant=\"body2\" sx={{ color: \"white\" }}>\n                    Вспомнили пароль?\n                  </Typography>\n                </Link>\n              </Grid>\n              <Grid item>\n                <Link href=\"/register\" sx={{ textDecoration: \"none\" }}>\n                  <Typography variant=\"body2\" sx={{ color: \"white\" }}>\n                    Нет учетной записи?\n                  </Typography>\n                </Link>\n              </Grid>\n            </Grid>\n          </FormControl>\n        </form>\n      </AuthBox>\n    </Box>\n  );\n};\n\nexport default ResetPassword;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}